var _J=(function(){function a(){}a.listReportsSumBalances=function(b){return $.getJSON("./api/reports/sum/balances",b)};a.listReportsSumSumTypes=function(b){return $.getJSON("./api/reports/sum/sumTypes",b)};a.createBatchFundlike=function(c,b){return $.ajax({type:"POST",url:"./api/batchFundlikes?monthFundPlanId="+c,data:JSON.stringify(b),contentType:"application/json",dataType:"json"})};a.saveFundlike=function(c,d){var b=JSON.stringify(d);return d.id?a.updateFundlike(d.id,b,c):a.createFundlike(c,b)};a.deleteFundlike=function(b){return $.ajax({type:"DELETE",url:"./api/fundlikes/"+b})};a.listCorporation=function(b){return $.getJSON("./api/corporations",b)};a.listBalance=function(b){if(b&&b.currencyId==="SSmTiaVKUe6xy37VZmacWj"){b=$.extend({},b,{divideYear:b.year,divideMonth:b.month,divideDay:1})}return $.getJSON("./api/balances",b)};a.listFundlike=function(b){if(b&&b.currencyId==="SSmTiaVKUe6xy37VZmacWj"){b=$.extend({},b,{divideYear:b.year,divideMonth:b.month,divideDay:1})}return $.getJSON("./api/fundlikes",b)};a.listMonthFundPlans=function(b){return $.getJSON("./api/monthFundPlans",b)};a.exportXlsx=function(b){window.open("./api/exports?"+$.param(b))};a.exportSumReportsXlsx=function(b){window.open("./api/exports/sumReports?"+$.param(b))};a.calcRowsCols=function(d){var c=15;var b=[c,1];if(d<=15){return b}b[1]=Math.ceil(d/c);b[0]=Math.ceil(d/b[1]);return b};a.renderMoney=function(d){var b=$.formatMoney(d/10000);var c=b.indexOf(".");return b.substring(0,c)};a.dtp=function(b){return $.extend({language:"zh-CN",weekStart:1,autoclose:true,todayHighlight:true,format:"yyyy-mm-dd",minView:"month",startDate:moment([2017,0]).toDate()},b)};a.generateMonthWeeks=function(d){var b=[];var f=moment([d.year(),d.month()]);var e=[];for(var c=moment(f);c.month()===d.month();c.add(1,"d")){e.push(moment(c));if(c.day()===0){if(b.length===0){this.addPrefixDates(e)}b.push(e);e=[]}}if(e.length>0){this.addSuffixDates(e);b.push(e)}return b};a.generateWeekScrolls=function(b,d,c){c.forEach(function(f){var e=$('<li><a href="javascript:">第'+f.index+"周</a></li>").on("click",function(){var g=document.getElementById(f.domId).getBoundingClientRect();d.scrollTop(d.scrollTop()+g.top-42)});b.after(e);b=e})};a.createFundlike=function(c,b){return $.ajax({type:"POST",url:"./api/monthFundPlans/"+c+"/fundlikes",data:b,contentType:"application/json",dataType:"json"})};a.updateFundlike=function(e,b,c){var d=c?"./api/monthFundPlans/"+c+"/fundlikes/"+e:"./api/fundlikes/"+e;return $.ajax({type:"PUT",url:d,data:b,contentType:"application/json",dataType:"json"})};a.addPrefixDates=function(c){if(c.length===7){return}var b=moment(c[0]);while(b.add(-1,"d").day()!==0){c.unshift(moment(b))}};a.addSuffixDates=function(c){if(c.length===7){return}var b=moment(c[c.length-1]);while(b.add(1,"d").day()!==1){c.push(moment(b))}};a.WEEK_DAYS=["周一","周二","周三","周四","周五","周六","周日"];return a}());window.J=_J;(function(a){a.extend({formatMoney:function(i,f){var e=0;var h=0;var d=0;var g=new Array();var c=true;function b(o,j){var n=o.toString();var m=new Array();for(var l=0,k=j-n.length;l<k;l++){m.push("0")}m.push(n);return m.join("")}if(typeof(f)==="undefined"){f=2}c=(i>=0);e=(isNaN(e=parseFloat(i)))?0:Math.abs(e);d=parseInt(""+e);h=(e-d)*Math.pow(10,f)+0.5;h=parseInt(""+h);do{g.unshift(b(d%1000,3))}while((d=parseInt(""+(d/1000))));g[0]=parseInt(g[0]).toString();return((c)?"":"-")+g.join(",")+"."+((0===h)?"00":b(h,f))},unformatMoney:function(b){var c=parseFloat(b.replace(/,/g,""));return(isNaN(c)?0:c)}})})(jQuery);